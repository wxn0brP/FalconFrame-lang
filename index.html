<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@wxn0brp/falcon-frame-lang</title><meta name="description" content="Documentation for @wxn0brp/falcon-frame-lang"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@wxn0brp/falcon-frame-lang</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@wxn0brp/falcon-frame-lang</h1></div><div class="tsd-panel tsd-typography"><h1 id="wxn0brpfalcon-frame-lang" class="tsd-anchor-link">@wxn0brp/falcon-frame-lang<a href="#wxn0brpfalcon-frame-lang" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A localization middleware for the FalconFrame framework that enables multi-language support for web applications.</p>
<h2 id="overview" class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This package provides easy-to-use internationalization (i18n) functionality for FalconFrame applications. It allows developers to create multi-language websites by automatically translating content based on user preferences and language files.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Automatic Language Detection</strong>: Detects user&quot;s language preference from cookies or the <code>Accept-Language</code> header</li>
<li><strong>HTML Translation</strong>: Translates HTML content by finding and replacing translation keys</li>
<li><strong>Flexible Configuration</strong>: Customizable directory paths and translation patterns</li>
<li><strong>Caching</strong>: Includes caching mechanism to improve performance</li>
<li><strong>Attribute-based Translations</strong>: Supports translation via HTML attributes as well as content</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">github:wxn0brP/FalconFrame-lang#dist</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="basic-setup" class="tsd-anchor-link">Basic Setup<a href="#basic-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">createLangRouter</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@wxn0brp/falcon-frame-lang&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">meta:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;home&quot;</span><span class="hl-4">:</span><span class="hl-1"> { </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Home Page&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;about&quot;</span><span class="hl-4">:</span><span class="hl-1"> { </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;About Us&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">dir:</span><span class="hl-1"> </span><span class="hl-2">&quot;public&quot;</span><span class="hl-1">,                </span><span class="hl-7">// Directory containing HTML files (default: &quot;public&quot;)</span><br/><span class="hl-1">    </span><span class="hl-4">layout:</span><span class="hl-1"> </span><span class="hl-2">&quot;public/layout.html&quot;</span><span class="hl-1">, </span><span class="hl-7">// Layout file path (default: &quot;public/layout.html&quot;)</span><br/><span class="hl-1">    </span><span class="hl-4">langDir:</span><span class="hl-1"> </span><span class="hl-2">&quot;public/lang&quot;</span><span class="hl-1">,       </span><span class="hl-7">// Directory containing language JSON files (default: &quot;public/lang&quot;)</span><br/><span class="hl-1">    </span><span class="hl-0">getSpecific</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">// Return specific data for the given page name</span><br/><span class="hl-1">        </span><span class="hl-3">return</span><span class="hl-1"> {};</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">langRouter</span><span class="hl-1"> = </span><span class="hl-0">createLangRouter</span><span class="hl-1">(</span><span class="hl-4">config</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="language-files" class="tsd-anchor-link">Language Files<a href="#language-files" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create language files in the <code>langDir</code> (by default <code>public/lang/</code>) with the format <code>{langCode}.json</code>:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;about us&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;About Us&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;contact&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Contact&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;image_alt_text&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Image Alt Text&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;welcome&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;Welcome to our website&quot;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="translating-html" class="tsd-anchor-link">Translating HTML<a href="#translating-html" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The middleware translates HTML in three ways:</p>
<ol>
<li>
<p><strong>Content-based translation</strong>: Text content inside HTML tags</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">h1</span><span class="hl-1"> </span><span class="hl-12">translate</span><span class="hl-1">=</span><span class="hl-13">&quot;about us&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">h1</span><span class="hl-10">&gt;</span><span class="hl-1">  </span><span class="hl-7">&lt;!-- Will be translated to &quot;About Us&quot; --&gt;</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Attribute-based translation</strong>: Using <code>translate-*</code> attributes</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">input</span><span class="hl-1"> </span><span class="hl-12">type</span><span class="hl-1">=</span><span class="hl-13">&quot;text&quot;</span><span class="hl-1"> </span><span class="hl-12">translate-placeholder</span><span class="hl-1">=</span><span class="hl-13">&quot;contact us&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><span class="hl-1"> </span><span class="hl-7">&lt;!-- Will add translated placeholder attribute --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">img</span><span class="hl-1"> </span><span class="hl-12">src</span><span class="hl-1">=</span><span class="hl-13">&quot;image.jpg&quot;</span><span class="hl-1"> </span><span class="hl-12">translate-alt</span><span class="hl-1">=</span><span class="hl-13">&quot;image_alt_text&quot;</span><span class="hl-10">&gt;</span><span class="hl-1">  </span><span class="hl-7">&lt;!-- Will translate the alt attribute --&gt;</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Translate attribute</strong>: Using the <code>translate</code> attribute for direct element translation</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">h1</span><span class="hl-1"> </span><span class="hl-12">translate</span><span class="hl-1">=</span><span class="hl-13">&quot;welcome&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">h1</span><span class="hl-10">&gt;</span><span class="hl-1">  </span><span class="hl-7">&lt;!-- Will translate the content to &quot;Welcome to our website&quot; --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">button</span><span class="hl-1"> </span><span class="hl-12">translate</span><span class="hl-1">=</span><span class="hl-13">&quot;contact&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">button</span><span class="hl-10">&gt;</span><span class="hl-1">  </span><span class="hl-7">&lt;!-- Will translate the content to &quot;Contact&quot; --&gt;</span>
</code><button type="button">Copy</button></pre>

</li>
</ol>
<h3 id="language-detection" class="tsd-anchor-link">Language Detection<a href="#language-detection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The package detects the user&quot;s preferred language in the following order:</p>
<ol>
<li><code>lang</code> query parameter</li>
<li><code>lang</code> cookie value</li>
<li><code>Accept-Language</code> header from the request</li>
<li>Defaults to &quot;en&quot; if no language is detected</li>
</ol>
<h2 id="dependencies" class="tsd-anchor-link">Dependencies<a href="#dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><code>@wxn0brp/ac</code>: For caching functionality</li>
<li><code>@wxn0brp/falcon-frame</code>: The main FalconFrame framework</li>
</ul>
<h2 id="performance-caching" class="tsd-anchor-link">Performance &amp; Caching<a href="#performance-caching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The middleware uses an efficient caching mechanism to improve performance. Language files are loaded once and cached in memory to prevent repeated file system operations. This results in faster response times for subsequent requests requiring the same language translations.</p>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT License.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#wxn0brpfalcon-frame-lang"><span>@wxn0brp/falcon-<wbr/>frame-<wbr/>lang</span></a><ul><li><a href="#overview"><span>Overview</span></a></li><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#basic-setup"><span>Basic <wbr/>Setup</span></a></li><li><a href="#language-files"><span>Language <wbr/>Files</span></a></li><li><a href="#translating-html"><span>Translating <wbr/>HTML</span></a></li><li><a href="#language-detection"><span>Language <wbr/>Detection</span></a></li></ul></li><li><a href="#dependencies"><span>Dependencies</span></a></li><li><a href="#performance-caching"><span>Performance &amp; <wbr/>Caching</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@wxn0brp/falcon-frame-lang</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
